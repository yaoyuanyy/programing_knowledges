= ä»£ç è¢«revert,ä½ pulläº†master,ä»£ç æ²¡äº†,å’‹å›æ¥?
:toc: left
:toc-title: ç›®å½•
:tip-caption: ğŸ’¡
:note-caption: â„¹ï¸
:important-caption: â—
:caution-caption: ğŸ”¥
:warning-caption: âš ï¸
// :tip-caption: :bulb:
// :note-caption: :information_source:
// :important-caption: :heavy_exclamation_mark:	
// :caution-caption: :fire:
// :warning-caption: :warning:
:icons: font

Doc writer yaoyihao1@gmail.com


== é—®é¢˜åœºæ™¯
å®é™…å·¥ä½œä¸­ï¼Œåœ¨ä¸Šçº¿æ—¶ï¼Œä½ çš„æ–°åŠŸèƒ½ä»£ç éƒ½æ˜¯åœ¨``gitlab``ä¸Šæäº¤``merge to master``çš„è¯·æ±‚ï¼Œæ‹¥æœ‰``mergeæƒé™çš„é¢†å¯¼``é€šè¿‡åï¼Œä½ çš„ä»£ç æ‰åˆåˆ°``master``ã€‚å¥½ï¼ŒQAå¼€å§‹ä¸Šçº¿äº†ä½ çš„ä»£ç ï¼Œè¿™æ—¶ å•ªï¼Œå•ªï¼ŒæŠ¥è­¦äº†ï¼Œä»£ç æœ‰é—®é¢˜ã€‚é¢†å¯¼``revertäº†ä½ çš„ä»£ç ``ä»¥ä¿è¯masteråˆ†æ”¯çš„æ­£ç¡®ã€‚è¿™æ—¶ï¼Œä½ çš„åˆ†æ”¯``pulläº†master``åï¼Œä½ å‘ç°ä½ åˆ†æ”¯ä¸Šçš„``æ–°åŠŸèƒ½ä»£ç éƒ½æ²¡æœ‰äº†``ï¼ï¼å’‹æ‰¾å›æ¥


æœ¬æ–‡ä»å®æˆ˜è§’åº¦æ¥è§£å†³è¿™ä¸ªé—®é¢˜

== æ¡ä»¶
> å‡è®¾ä½ å·²ç»æœ‰äº†ä¸€ä¸ªgité¡¹ç›®: ``test-git``ï¼Œå¹¶ä¸”æœ‰ä¸¤ä¸ªåˆ†æ”¯: ``masterï¼Œtest``

== å®æˆ˜
åœ¨``teståˆ†æ”¯``ï¼Œä½ åˆ›å»ºäº†ä¸€ä¸ªæ–‡ä»¶``welcome``ï¼Œæ–‡æœ¬:``hi git``ã€‚å¹¶``git commit -m 'æµ‹è¯•git revert'æäº¤``

å½“å‰ï¼Œmasterï¼Œtestçš„å†…å®¹å¦‚ä¸‹
----
~/tt/test-git>>master $ ll
drwxr-xr-x  3 tt  staff    96B  5  8 20:54 test
-rw-r--r--  1 tt  staff    16B  8  1 19:55 test3.log
----
----
~/tt/test-git>>test $ ll
drwxr-xr-x  3 tt  staff    96B  5  8 20:54 test
-rw-r--r--  1 tt  staff    16B  8  1 19:55 test3.log
-rw-r--r--  1 tt  staff     7B  8  1 20:19 welcome

~/tt/test-git>>test $ cat welcome
hi git
----
ç°åœ¨ï¼Œå‘``master``æäº¤``merge to master``è¯·æ±‚ï¼Œå¦‚ä¸‹å›¾

image::https://raw.githubusercontent.com/yaoyuanyy/MarkdownPhotos/master/img/20200916142423.png[20200916142423]

é¢†å¯¼mergeåå¼€å§‹ä¸Šçº¿ï¼Œå‡è®¾çº¿ä¸Šå‡ºç°é—®é¢˜ï¼Œé¢†å¯¼revertäº†è¿™æ¬¡æäº¤çš„ä»£ç ã€‚å¦‚ä¸‹å›¾

image::https://raw.githubusercontent.com/yaoyuanyy/MarkdownPhotos/master/img/20200916142649.png[20200916142649]

æ¥ç€ä½ è¦æŸ¥çœ‹é—®é¢˜ï¼Œæ‰€ä»¥ä½ ä¼šæœ¬åœ°æ“ä½œï¼Œå›åˆ°ä½ çš„ä»£ç åˆ†æ”¯ï¼Œæ‰§è¡Œ``git merge origin/master``
----
~/tt/test-git>>test $ git merge origin/master
Updating 670adc2..d3961f7
Fast-forward
 welcome | 1 -
 1 file changed, 1 deletion(-)
 delete mode 100644 welcome
~/tt/test-git>>test $ ll
total 8
drwxr-xr-x  3 tt  staff    96B  5  8 20:54 test
-rw-r--r--  1 tt  staff    16B  8  1 19:55 test3.log
----
æ­¤æ—¶ï¼Œä½ å‘ç°ä½ æäº¤çš„ä»£ç æ²¡æœ‰äº†ï¼Œå’‹æ‰¾å›æ¥å‘¢ï¼Œä¸‹é¢å¼€å§‹æ‰¾å›æ“ä½œ

1. ``git log``æ‰¾åˆ°é¢†å¯¼``revert``ä½ ä»£ç çš„é‚£ä¸ª``commit id``ï¼Œè¿™é‡Œ``commit id``æ˜¯``50a06845da879ab76e6fdd55dce923826742dcb2``ã€‚å¦‚ä¸‹å›¾ä¸‰ä¸ªcommitçš„è¯´æ˜

image::https://raw.githubusercontent.com/yaoyuanyy/MarkdownPhotos/master/img/20200916142940.png[20200916142940]

2. ``git revert --no-commit 50a06845da879ab76e6fdd55dce923826742dcb2``

image::https://raw.githubusercontent.com/yaoyuanyy/MarkdownPhotos/master/img/20200916143019.png[20200916143019]

ç„¶åå°±æ²¡æœ‰ç„¶åäº†ï¼Œä½ çš„ä»£ç å·²ç»å›æ¥äº†ã€‚ç®€å•å§

== æ€»ç»“
æ‰¾åˆ°é¢†å¯¼``revert``ä½ ä»£ç çš„``commit id``ï¼Œç„¶å``git revert --no-commit commit id``

ä¸€å¥è¯æ€»ç»“ï¼šæŠŠä¹‹å‰``revert``çš„é‚£æ¡``commit``å†``revert``ä¸€ä¸‹

